<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo+GitHub 搭建博客</title>
    <url>/2020/11/17/Hexo-GitHub-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>安装node.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure>
<p>查看版本</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>
<p>npm是node.js的包管理工具</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p>Hexo是一个快速、简洁高效博客框架</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>安装完成后桌面建一个blog文件夹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd ~&#x2F;Desktop &amp;&amp; mkdir blog &amp;&amp; cd blog</span><br></pre></td></tr></table></figure>
<p>初始化</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p>安装依赖包</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>新建的框架目录如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|--_config.yml      &#x2F;&#x2F;网站的配置信息</span><br><span class="line">|--package.json     &#x2F;&#x2F;项目包信息</span><br><span class="line">|--scaffolds        &#x2F;&#x2F;模板文件，Hexo根据scaffolds中的模板来新建文件</span><br><span class="line">|--source           &#x2F;&#x2F;存放用户资源的地方</span><br><span class="line">|  |--_drafts       &#x2F;&#x2F;存放草稿</span><br><span class="line">|  |--_posts        &#x2F;&#x2F;存放文章</span><br><span class="line">|--themes           &#x2F;&#x2F;主题文件夹</span><br></pre></td></tr></table></figure>
<h4 id="部署到GitHub-Pages"><a href="#部署到GitHub-Pages" class="headerlink" title="部署到GitHub Pages"></a>部署到GitHub Pages</h4><p>安装 hexo-deployer-git工具</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>修改_config.yml中的配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:&#x2F;&#x2F;github.com&#x2F;caodaxun&#x2F;caodaxun.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>运行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure>
<p>查看 <code>https://caodaxun.github.io</code> 是否部署成功</p>
<h4 id="安装-NexT-主题"><a href="#安装-NexT-主题" class="headerlink" title="安装 NexT 主题"></a>安装 NexT 主题</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure>
<p>主题更新</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm update hexo-theme-next</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd themes&#x2F;next &amp;&amp; git pull</span><br></pre></td></tr></table></figure>

<h4 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h4><h5 id="配置添加文章自动打开编辑器"><a href="#配置添加文章自动打开编辑器" class="headerlink" title="配置添加文章自动打开编辑器"></a>配置添加文章自动打开编辑器</h5><p>blog 目录下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir scripts &amp;&amp; touch open.js</span><br></pre></td></tr></table></figure>

<p>添加代码保存</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var exec &#x3D; require(&#39;child_process&#39;).exec;</span><br><span class="line">hexo.on(&#39;new&#39;, function(data)&#123;</span><br><span class="line">    exec(&#39;open -a &quot;&#x2F;Applications&#x2F;Typora.app&quot; &#39; + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>新建文章  <code>hexo new &quot;Test&quot;</code>  会自动打开 Typora 编辑器</p>
<p>写完后生成静态网页部署到 <code>github</code> 上</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g -d				#直接生成页面发布</span><br></pre></td></tr></table></figure>

<h5 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h5><p>调试的时候可以边修改，边刷新查看</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean			#清除缓存</span><br><span class="line">hexo g					#生成静态页面</span><br><span class="line">hexo s --debug  #调试模式 http:&#x2F;&#x2F;localhost:4000&#x2F;进行访问</span><br></pre></td></tr></table></figure>

<p>调试模式有时会出现端口占用情况</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo lsof -i :4000</span><br><span class="line">sudo kill -9 进程PID</span><br></pre></td></tr></table></figure>

<h5 id="添加图片"><a href="#添加图片" class="headerlink" title="添加图片"></a>添加图片</h5><p>安装插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-marked</span><br></pre></td></tr></table></figure>

<p>修改  <code>config.yml</code>  配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">post_asset_folder: true</span><br><span class="line">marked:</span><br><span class="line">  prependRoot: true</span><br><span class="line">  postAsset: true</span><br></pre></td></tr></table></figure>

<p>之后就可以使用 <code>![图片](image.jpg)</code> 访问图片了</p>
<h4 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h4><h5 id="添加菜单"><a href="#添加菜单" class="headerlink" title="添加菜单"></a>添加菜单</h5><p><code>hexo new page</code>添加页面，添加后文件在 <code>source/</code> 目录下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page &quot;categories&quot;</span><br><span class="line">hexo new page &quot;tags&quot;</span><br><span class="line">hexo new about &quot;about&quot;</span><br></pre></td></tr></table></figure>

<p>配置标签</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2020-11-18 12:42:18</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>配置分类</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2020-11-18 12:31:50</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>给文章配置分类和标签</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 测试下</span><br><span class="line">date: 2020-11-17 15:02:26</span><br><span class="line">tags: </span><br><span class="line">    - 标签1</span><br><span class="line">categories: </span><br><span class="line">    - 分类1</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>修改主题配置<code>themes/next/_ocnfig.yml</code>，|| 后面的是图片名</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">    home: &#x2F; || fa fa-home</span><br><span class="line">    archives: &#x2F;archives || fa fa-archive</span><br><span class="line">    categories: &#x2F;categories || fa fa-th</span><br><span class="line">    tags: &#x2F;tags || fa fa-tags</span><br><span class="line">    about: &#x2F;about || fa fa-user</span><br></pre></td></tr></table></figure>

<h5 id="添加搜索功能"><a href="#添加搜索功能" class="headerlink" title="添加搜索功能"></a>添加搜索功能</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p><code>config.yml</code> 新增</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>修改主题配置文件 <code>themes/next/_config.yml</code> 修改 <code>local_search</code>的 <code>enable</code> 为<code>true</code></p>
<h5 id="添加背景动画"><a href="#添加背景动画" class="headerlink" title="添加背景动画"></a>添加背景动画</h5><p>进入 <code>Hexo</code> ，带 <code>scaffolds  source  themes  _config.yml  package.json</code>目录</p>
<p>新建 <code>footer.swig</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script color&#x3D;&quot;0,0,255&quot; opacity&#x3D;&quot;0.5&quot; zIndex&#x3D;&quot;-1&quot; count&#x3D;&quot;99&quot; src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;canvas-nest.js@1&#x2F;dist&#x2F;canvas-nest.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><code>themes/next/_config.yml</code> 修改 <code>custom_file_path</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">footer: source&#x2F;_data&#x2F;footer.swig</span><br></pre></td></tr></table></figure>

<p>查看图：</p>
<p><img src="/2020/11/17/Hexo-GitHub-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/%E8%83%8C%E6%99%AF.png" alt="背景"></p>
<h4 id="文章加密"><a href="#文章加密" class="headerlink" title="文章加密"></a>文章加密</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-blog-encrypt --save</span><br></pre></td></tr></table></figure>

<p>将<code>password</code>添加到文章信息头</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: Hello World</span><br><span class="line">password: xxxxxx</span><br></pre></td></tr></table></figure>



<h4 id="备份博客源文件"><a href="#备份博客源文件" class="headerlink" title="备份博客源文件"></a>备份博客源文件</h4><p>直接放码云了，码云上新建仓库 Hexo</p>
<p>本地新建同名文件 Hexo</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd Hexo </span><br><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>本地和远程绑定 &amp;&amp; 拉取远程代码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git remote add origin https:&#x2F;&#x2F;gitee.com&#x2F;xxxx&#x2F;hexo.git</span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>

<p>新建或修改 <code>.gitignore</code> 文件，加入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*.log</span><br><span class="line">public&#x2F;</span><br><span class="line">.deploy*&#x2F;</span><br></pre></td></tr></table></figure>

<p>把 Blog 里面的代码拖到 Hexo 文件，提交到码云</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;提交备份&quot;</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<p>远程代码有更新时</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>

<p>还是直接用 SourceTree 工具吧，Git命令一段时间不用就会忘</p>
<p><a href="https://hexo.io/zh-cn/docs/">Hexo</a></p>
<p><a href="https://github.com/theme-next/hexo-theme-next">theme-next</a></p>
]]></content>
  </entry>
  <entry>
    <title>图片</title>
    <url>/2020/11/17/abc/</url>
    <content><![CDATA[<p><img src="/2020/11/17/abc/test.png" alt="图片"></p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/11/14/hello-world/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">Welcome to my blog, enter password to read.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="c27dfc10e24518d803cd693b859e056b2a18604f9a1e6ea8e2e0dc48c67ddd48">06025ab2f6ff09422f0f06c526b19244c7bf5c38e0a8d99f3a8535d1560b0f07ccf23721324d06f94a8d6b2ee34f0572d7122746750646a67a324e15e0b0d5bad7e2e2f7ef0602cef4427470398d1b3498af959793285350f5a48cd5d845830e58321974bfe9b3fe29c6c5dd5aed8568602d254c59f0a2ae0b3dba5e664519bb9a75f81bc5ee50414e52c82611e666d928f9c63d82d719693fa7a0c48bbce022a5b13e90cccae532b7b9cf020ea1b2a5e544491afc35a97a5ccd4fb605b2366636bb3af58eeb75622ecba377deed4fe7662aad7c7bee9d8ab2b31abc98d34afbd13bdddc57c52838bd0c498c165b02262abec2960f9ae75021d13eb02921f40ceeb73d24c8d7b72fd40ac9e8f078ef6de850c979206f181dfcc866c58995f234d9e7e66331bdea84907721e7017dfb8f851fe469f63a2499bf375d8d16bdd8144186f72ab7afcb87c45cf16ce31c269fdce945c1ba0ce96918916657f4a4bfb8147547ac5b7c8abd1990455faff4878bb2dca637fd67b427930c39be62e5e14b66f7c62a8737ff8219ff74e451f1519068ab5533fba7bf54346365a523caeb9d5dbddbc0706e82246de1fe1d3d1c7f9f8c431fd2fab29560deb7795239ec654bc6bdf668a3fe5c95a599dcec5fca5006675a2da41477e5679fccce2cb2b648ef4c7c3413a0d990b2666a2204efff2109a4ca7d920ec0683c726c5186577ba1fca0b76e268fb70370e3ac9b4a68673fc41adfd0b98db97f3c12bf0b142b593276a0a6385e1c843c2b9a6cfdb66ff3ed0ae20c1e9de4d3cb06ea9c51068dedce3832518f8a42d74471ce2da8966c282b3d480e8809a4a6df2b4a4d2dc30c3cf34ddda6c14f73724585287766619eaf99fb333740bcce684d0f546270380a2d2b3cfd39b78be58d615b5059e6ba659b2639d123b7d68cd1c9ba93c03f361b107af607e7909fa47dc2d748cf8dca900925ba599aaf695db8200bfddf399dae8873473d5272e2010a007dd438784fa5b6487030030e3ab3ad9c2d0cda1cdd7542ea84c4305629457558ec5d74c6102be0f1939fd06481e03e0ec7ea8674abe60fbffea9dd9da6af640921f2eb42b2b86621078c16fc82c166591f93abee587b933927eb76261b8aa2530c30e2b6025613efc9efb9c8f7c27997d61c2d35d10e5b116112101465518b544910dbe558692f44ed2d073ffd722fa76138f4b77d7d2fd23b0f560699aed3626b1a517a094d52c89982c480fa369e1b3b188011b77815c15b1bf3fc46177c238f983740df63d949049c5a1c82779104b29f7cfeb7056110cfebcee0d966d2f2f98a3549fe6b4bc657ef229e4b5e0ea87313a1002830285965b9f489891376340d1d5f4bf0de66205787822739ebf7c3491e553df2fa32bb4b52f507f82f64188a8baf26bfaac3988fe61f45a1276aee96ed3a0e5ef6fc00d5ae3d9ef03e313ab515152e2bb6c827ea510219aa8090501d25ed87cfa9c1c0e682281583377cb5a93edf9b1bc5ad056b5d08dc0d828cbca82d5b05d828c309b6ac6507f13bedde57c919df449c115bfe1eae33ac0f4cb823404f04bc640fa8a0f13d22228535ca640180a80b0fc3ae0387e209fe69841de1eb26770dd1fe2cc02d1ed6bbd60a41d8e9777f4fe4bb909fcd64c580048de4f07962f5e49cceef634c1160adf5298059b5281443bb5e7ae72b21cb1723650f378804e1dcfc2a885c73a40d8182963edc935683e86bf85755535657bc819f14cb91bb21c1caa685e48cd3052a5ae01b32415e956e3419764b1b20ff82cb4a02a4db8ed81c26a8f84174f40ba3131e5773b579b00c7f99b02a710cdc4d78f6ca4550ba986aec5938e1b7c0045d96ae2929d411c649c56f23cedba04850be0bdd90a5a04ff488a3bcc27beceba0c60fea74ecd733a7daeb9ad845bd3d27f653a4e7709cad67228b99e765ccba983cec93fa26437183d28f7df0c9db224c1f90b2d3a91f9c6e310d3162a77dc8655f9b59a207f99bf8d2031e0f13af99ffb9e3de8652c39e22dffcb031e92de427b293c0463cdf4a8b3be04f459f45190545b35aa5094843d9bc419a2ad550c4ae8e9dc6d3e8a88334991eed751d844b436fd2cf57dcf9d29063a4973590e63d4b507a166a8c00ff2bc706fe8d4ee23b86c6f998d91d861761c783ba1831a52293a28b18c2cc64fdf62f0684af0557639543b82ae93e55996acfbb63c3fbbf7e542a2473bad777517076d21f29e947e30f64b1a73c0f1518d23dececa717d55e3b472f492730e95267d04d763b8c54b21b1420e1e7c720efff22b5ea8d8c54ad311d9f466c8b40cd9d0ec5d72846fd5c882596b9dde4d89625c9bfe6c2fcd4ba70e1425b93625407998659124e6ad09757abf6350af57291671c1c6118b81dfaf6f9bb03b671e6212be3f7cdababae8d99ceea077da9280b5b02b4c91b7bc7230dd519bc5ff3dea692b3616cb28d50458255e86b3b7a36becd7344efd206d6e332358f6985565d687c3ec7793843c8b7068d61f5d5b5bc30b1f67a87234133d5dcb56d675f06de8cc1a802b0370d6bbe5d0a631d88d3d047a5734fe22528ff85ed9b4220b35d32291353edbd04bf70258f940a24dedc4f36377b070f069c84bc30cb95d9d4f219a1faac3b3f5ef138aad3b656597f70ccc0ce301ded144d0091061874dbf4522c7412de04c1be66ea4bc6f1d407ba2d6f73e7f27d56500b84c65bfe4e4094a5886f91f9a5da8669ed6b83ad0d45d423e6b9fcebf2237978f8bc0213bcf0f59ea3b26a99f990147fcfb7ed9fcfefd327b15ddf3493289f08c84b8d9fdaf3518c2d608e4c460a5d3c7d79ea56ceb52973b45ef19d807a03a4ab15a6bae0af2bab1b1b25ae00c15281325b49d851dd6e3452524ea715244ddbcc4b631bb06b0afd3fa29f715b29e7759fcf583299b097693011d15ab61f351ef8eb22f4684454362edc741742bb4b959fee9be719d81daf3d159daba355fb44f86e8b3215d7c4e817210720a0de6d91e8cb6625e871756efe4b65349969cd40631a713a54bb3b239d7d8d7109d5268e188a909f371562c4caea15a2b77e928233182ab8ecb903772a03ce3a2f6d0543c6b99d3d0bca00f723499a6e1d742f</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>Encrypt</category>
      </categories>
      <tags>
        <tag>Encrypt</tag>
      </tags>
  </entry>
  <entry>
    <title>test</title>
    <url>/2020/11/17/test/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>测试下</title>
    <url>/2020/11/17/%E6%B5%8B%E8%AF%95%E4%B8%8B/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>分类1</category>
      </categories>
      <tags>
        <tag>标签1</tag>
      </tags>
  </entry>
</search>
